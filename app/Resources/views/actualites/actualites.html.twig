{% extends 'base.html.twig' %}
{% block title %}Les Actualités du club{% endblock %}
{% block description %}Toutes les actualités du Club Alfa 44 {% endblock %}
{% block titre %}Les actualités{% endblock %}

{% block main %}
    <div class="container">
        <div class="row">
            {% for actualite in actualites %}

                <div class="col s12 m6">
                    <div class="card">
                        <div class="card-image activator">
                            <img class="activator" src="
                            {% if vich_uploader_asset(actualite, 'imageFile') %}
                                {{ vich_uploader_asset(actualite, 'imageFile')| imagine_filter('actualites') }}
                            {% else %}
                                {{ asset("images/default-placeholder-300x200.png") }}
                            {% endif %}">

                            <a class="btn-floating btn-large activator halfway-fab waves-effect waves-light alfa-electrique"><i
                                        class="material-icons">info</i></a>
                        </div>
                        <div class="card-content">
                            <span class="card-title truncate">{{ actualite.titre }}</span>
                            <p>{{ actualite.contenu | resume(constant('NUM_WORDS', actualite))|raw }}</p></div>
                        <div class="card-reveal">
                            <span class="card-title grey-text text-darken-4">{{ actualite.titre }}<i
                                        class="material-icons right">close</i></span>
                            <p>{{ actualite.contenu|raw }}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        {#pagination#}
        <div class="row">
            <ul class="col m11 pagination center-align">
                {% if nbPages > 1 %}
                    {% if page > 1 %}
                        <li>
                            <a class="chevron-gauche" href="{{ path('actualites_paginated', {'page': page - 1}) }}">
                                &lang; </a>
                        </li>
                    {% endif %}

                    {% for p in range(1, nbPages) %}
                        <li{% if p == page %} class="active"{% endif %}>
                            <a href="{{ path('actualites_paginated', {'page': p}) }}" class="current-page">{{ p }}</a>
                        </li>
                    {% endfor %}
                    {% if page < nbPages %}
                        <li>
                            <a href="{{ path('actualites_paginated', {'page': page + 1}) }}">
                                &rang; </a>
                        </li>
                    {% endif %}

                {% endif %}
            </ul>
        </div>
    </div>


{% endblock %}
